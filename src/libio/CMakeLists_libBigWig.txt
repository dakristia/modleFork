project(libBigWig C)

add_library(libBigWig)

target_sources(
  libBigWig
  PRIVATE bwRead.c
          bwStats.c
          bwValues.c
          bwWrite.c
          io.c)

target_include_directories(libBigWig PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/)
target_link_libraries(
  libBigWig
  PRIVATE project_warnings project_options
  PUBLIC CONAN_PKG::zlib m) # -lm

target_compile_definitions(libBigWig PUBLIC -DNOCURL)

target_compile_features(libBigWig PRIVATE c_std_99)
set_target_properties(libBigWig PROPERTIES OUTPUT_NAME BigWig)

#[[
install(
  TARGETS libBigWig
  LIBRARY DESTINATION lib
  ARCHIVE DESTINATION lib
  RUNTIME DESTINATION bin
  INCLUDES DESTINATION include)
]]
